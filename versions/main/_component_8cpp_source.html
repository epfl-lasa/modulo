<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Modulo: /Users/enricoeberhard/Documents/EPFL/Dev/modulo/source/modulo_core/src/Component.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Modulo
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_727f33ea6496bb66c2db4f7101f40bd7.html">modulo_core</a></li><li class="navelem"><a class="el" href="dir_a6c74a7b9b9addb9dd4654e424e31fd8.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Component.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;modulo_core/Component.hpp&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;modulo_core/exceptions/PredicateAlreadyRegisteredException.hpp&quot;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;modulo_core/exceptions/PredicateNotFoundException.hpp&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacemodulo_1_1core.html">modulo::core</a> {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keywordtype">void</span> Component::on_init() {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  this-&gt;declare_parameter&lt;int&gt;(<span class="stringliteral">&quot;predicate_checking_period&quot;</span>, 100);</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  this-&gt;<a class="code" href="classmodulo_1_1core_1_1_component.html#ad2c236dd5dceb642701d4214a4f8cfb5">add_predicate</a>(<span class="stringliteral">&quot;is_configured&quot;</span>, [<span class="keyword">this</span>] { <span class="keywordflow">return</span> this-&gt;<a class="code" href="classmodulo_1_1core_1_1_cell.html#a3474ece0416029d4f404af1b2910c1d6">is_configured</a>(); });</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  this-&gt;<a class="code" href="classmodulo_1_1core_1_1_component.html#ad2c236dd5dceb642701d4214a4f8cfb5">add_predicate</a>(<span class="stringliteral">&quot;is_active&quot;</span>, [<span class="keyword">this</span>] { <span class="keywordflow">return</span> this-&gt;<a class="code" href="classmodulo_1_1core_1_1_cell.html#ace47d79114cbba0fd4d84088df49a1ea">is_active</a>(); });</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  this-&gt;<a class="code" href="classmodulo_1_1core_1_1_cell.html#a7722a0658045f35bcf4a5d66e027fc5c">add_daemon</a>([<span class="keyword">this</span>] { this-&gt;evaluate_predicate_functions(); },</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                   std::chrono::milliseconds(this-&gt;get_parameter(<span class="stringliteral">&quot;predicate_checking_period&quot;</span>).as_int()));</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#a31b68faf7e05d80ef564035f99b811d6">   16</a></span>&#160;<a class="code" href="classmodulo_1_1core_1_1_component.html#a7dcfee57c9a3eb9f83310acb57f33624">Component::Component</a>(<span class="keyword">const</span> rclcpp::NodeOptions&amp; options) : <a class="code" href="classmodulo_1_1core_1_1_cell.html">Cell</a>(options) {</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  this-&gt;on_init();</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;}</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keywordtype">void</span> Component::evaluate_predicate_functions() {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [key, val] : this-&gt;predicate_functions_) {</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    this-&gt;<a class="code" href="classmodulo_1_1core_1_1_component.html#a3c7870fffa927828cabe1bd4275e3c13">set_predicate_value</a>(key, (val)());</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;std::string Component::generate_predicate_topic(<span class="keyword">const</span> std::string&amp; predicate_name)<span class="keyword"> const </span>{</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;/predicates/&quot;</span> + std::string(this-&gt;get_name()) + <span class="stringliteral">&quot;/&quot;</span> + predicate_name;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#ad2c236dd5dceb642701d4214a4f8cfb5">   30</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classmodulo_1_1core_1_1_component.html#ad2c236dd5dceb642701d4214a4f8cfb5">Component::add_predicate</a>(<span class="keyword">const</span> std::shared_ptr&lt;state_representation::Predicate&gt;&amp; predicate) {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  std::string predicate_name = predicate-&gt;get_name();</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keywordflow">if</span> (this-&gt;predicates_.find(predicate_name) != this-&gt;predicates_.end()) {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="classmodulo_1_1core_1_1exceptions_1_1_predicate_already_registered_exception.html">exceptions::PredicateAlreadyRegisteredException</a>(predicate_name);</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  }</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">// add the predicate to the map</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  this-&gt;predicates_.insert(std::make_pair(predicate_name, predicate));</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">// add the publisher predicate</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  this-&gt;add_publisher&lt;std_msgs::msg::Bool&gt;(this-&gt;generate_predicate_topic(predicate_name), predicate, <span class="keyword">true</span>);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#ad356d8a114f38382f136e8c5125e8a07">   41</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classmodulo_1_1core_1_1_component.html#ad2c236dd5dceb642701d4214a4f8cfb5">Component::add_predicate</a>(<span class="keyword">const</span> std::string&amp; predicate_name, <span class="keyword">const</span> std::function&lt;<span class="keywordtype">bool</span>(<span class="keywordtype">void</span>)&gt;&amp; predicate_function) {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="comment">// insert the predicate function in the list overwriting it if it already exists</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  this-&gt;predicate_functions_.insert_or_assign(predicate_name, predicate_function);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">// crate a predicate with named prefixed with the action name</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keyword">auto</span> predicate = std::make_shared&lt;state_representation::Predicate&gt;(predicate_name);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// try to insert the predicate in the map. If it already exists, do nothing to just</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="comment">// update the predicate_function</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">try</span> {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    this-&gt;<a class="code" href="classmodulo_1_1core_1_1_component.html#ad2c236dd5dceb642701d4214a4f8cfb5">add_predicate</a>(predicate);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  } <span class="keywordflow">catch</span> (<a class="code" href="classmodulo_1_1core_1_1exceptions_1_1_predicate_already_registered_exception.html">exceptions::PredicateAlreadyRegisteredException</a>&amp;) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    RCLCPP_DEBUG(this-&gt;get_logger(), <span class="stringliteral">&quot;Predicate with same name already exists, overwriting predicate callback function&quot;</span>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#abaaa1b86e5ababe71bd4f0d8c80a87a5">   55</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classmodulo_1_1core_1_1_component.html#abaaa1b86e5ababe71bd4f0d8c80a87a5">Component::add_received_predicate</a>(<span class="keyword">const</span> std::string&amp; predicate_name, <span class="keyword">const</span> std::string&amp; channel) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keyword">auto</span> predicate = std::make_shared&lt;state_representation::Predicate&gt;(predicate_name);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  this-&gt;predicates_.insert(std::make_pair(predicate_name, predicate));</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// add a subscription to the channel where the predicate is published</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  this-&gt;add_subscription&lt;std_msgs::msg::Bool&gt;(channel, predicate, <span class="keyword">true</span>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#a6cb42f302126b2d7ec3025fe89c6abee">   62</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classmodulo_1_1core_1_1_component.html#a6cb42f302126b2d7ec3025fe89c6abee">Component::get_predicate_value</a>(<span class="keyword">const</span> std::string&amp; predicate_name)<span class="keyword"> const </span>{</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keyword">auto</span> predicate_iterator = this-&gt;predicates_.find(predicate_name);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">if</span> (predicate_iterator == this-&gt;predicates_.end()) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="classmodulo_1_1core_1_1exceptions_1_1_predicate_not_found_exception.html">exceptions::PredicateNotFoundException</a>(predicate_name);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">return</span> predicate_iterator-&gt;second-&gt;get_value();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#a3c7870fffa927828cabe1bd4275e3c13">   70</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classmodulo_1_1core_1_1_component.html#a3c7870fffa927828cabe1bd4275e3c13">Component::set_predicate_value</a>(<span class="keyword">const</span> std::string&amp; predicate_name, <span class="keywordtype">bool</span> value) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keyword">auto</span> predicate_iterator = this-&gt;predicates_.find(predicate_name);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">if</span> (predicate_iterator == this-&gt;predicates_.end()) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="classmodulo_1_1core_1_1exceptions_1_1_predicate_not_found_exception.html">exceptions::PredicateNotFoundException</a>(predicate_name);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">return</span> predicate_iterator-&gt;second-&gt;set_value(value);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#a52895d590928bb716514c2705c5522e2">   78</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classmodulo_1_1core_1_1_component.html#a52895d590928bb716514c2705c5522e2">Component::add_event</a>(<span class="keyword">const</span> std::shared_ptr&lt;state_representation::Event&gt;&amp; event) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  this-&gt;<a class="code" href="classmodulo_1_1core_1_1_component.html#ad2c236dd5dceb642701d4214a4f8cfb5">add_predicate</a>(event);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#a01239b8e7c0cafb4c7839f1120686183">   82</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classmodulo_1_1core_1_1_component.html#a52895d590928bb716514c2705c5522e2">Component::add_event</a>(<span class="keyword">const</span> std::string&amp; event_name, <span class="keyword">const</span> std::function&lt;<span class="keywordtype">bool</span>(<span class="keywordtype">void</span>)&gt;&amp; event_function) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  this-&gt;<a class="code" href="classmodulo_1_1core_1_1_component.html#ad2c236dd5dceb642701d4214a4f8cfb5">add_predicate</a>(event_name, event_function);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#ae4abc442a98dc908617829745ebbc7e8">   86</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classmodulo_1_1core_1_1_component.html#ae4abc442a98dc908617829745ebbc7e8">Component::add_received_event</a>(<span class="keyword">const</span> std::string&amp; event_name, <span class="keyword">const</span> std::string&amp; channel) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  this-&gt;<a class="code" href="classmodulo_1_1core_1_1_component.html#abaaa1b86e5ababe71bd4f0d8c80a87a5">add_received_predicate</a>(event_name, channel);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#a7e5be076c4af8fb2d9948b8b07e99f60">   90</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classmodulo_1_1core_1_1_component.html#a7e5be076c4af8fb2d9948b8b07e99f60">Component::read_event_value</a>(<span class="keyword">const</span> std::string&amp; event_name) {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keyword">auto</span> event_iterator = this-&gt;predicates_.find(event_name);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">if</span> (event_iterator == this-&gt;predicates_.end()) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="classmodulo_1_1core_1_1exceptions_1_1_predicate_not_found_exception.html">exceptions::PredicateNotFoundException</a>(event_name);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">return</span> std::dynamic_pointer_cast&lt;state_representation::Event&gt;(event_iterator-&gt;second)-&gt;read_value();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#ad3938be8a0ef8614a72884d62fab4307">   98</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classmodulo_1_1core_1_1_component.html#ad3938be8a0ef8614a72884d62fab4307">Component::set_event_value</a>(<span class="keyword">const</span> std::string&amp; event_name, <span class="keywordtype">bool</span> value) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  this-&gt;<a class="code" href="classmodulo_1_1core_1_1_component.html#a3c7870fffa927828cabe1bd4275e3c13">set_predicate_value</a>(event_name, value);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classmodulo_1_1core_1_1_component.html#abcf5a401a5324fb5faf84c7326bf8515">  102</a></span>&#160;<span class="keyword">const</span> std::list&lt;std::shared_ptr&lt;state_representation::Predicate&gt;&gt; <a class="code" href="classmodulo_1_1core_1_1_component.html#abcf5a401a5324fb5faf84c7326bf8515">Component::get_predicates</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  std::list&lt;std::shared_ptr&lt;state_representation::Predicate&gt;&gt; predicate_list;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  std::transform(this-&gt;predicates_.begin(), this-&gt;predicates_.end(), std::back_inserter(predicate_list), [](<span class="keyword">const</span> std::map&lt;std::string, std::shared_ptr&lt;state_representation::Predicate&gt;&gt;::value_type&amp; val) { <span class="keywordflow">return</span> val.second; });</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">return</span> predicate_list;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}<span class="comment">// namespace modulo::core</span></div><div class="ttc" id="classmodulo_1_1core_1_1_component_html_ad3938be8a0ef8614a72884d62fab4307"><div class="ttname"><a href="classmodulo_1_1core_1_1_component.html#ad3938be8a0ef8614a72884d62fab4307">modulo::core::Component::set_event_value</a></div><div class="ttdeci">void set_event_value(const std::string &amp;event_name, bool value)</div><div class="ttdoc">Set the value of the event given as parameter. </div><div class="ttdef"><b>Definition:</b> <a href="_component_8cpp_source.html#l00098">Component.cpp:98</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_component_html_ad2c236dd5dceb642701d4214a4f8cfb5"><div class="ttname"><a href="classmodulo_1_1core_1_1_component.html#ad2c236dd5dceb642701d4214a4f8cfb5">modulo::core::Component::add_predicate</a></div><div class="ttdeci">void add_predicate(const std::shared_ptr&lt; state_representation::Predicate &gt; &amp;predicate)</div><div class="ttdoc">Add a predicate to the map of predicates. </div><div class="ttdef"><b>Definition:</b> <a href="_component_8cpp_source.html#l00030">Component.cpp:30</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1exceptions_1_1_predicate_already_registered_exception_html"><div class="ttname"><a href="classmodulo_1_1core_1_1exceptions_1_1_predicate_already_registered_exception.html">modulo::core::exceptions::PredicateAlreadyRegisteredException</a></div><div class="ttdef"><b>Definition:</b> <a href="_predicate_already_registered_exception_8hpp_source.html#l00007">PredicateAlreadyRegisteredException.hpp:7</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_component_html_a7dcfee57c9a3eb9f83310acb57f33624"><div class="ttname"><a href="classmodulo_1_1core_1_1_component.html#a7dcfee57c9a3eb9f83310acb57f33624">modulo::core::Component::Component</a></div><div class="ttdeci">Component(const std::string &amp;node_name, const std::chrono::duration&lt; int64_t, DurationT &gt; &amp;period, bool intra_process_comms=false)</div><div class="ttdoc">Constructor for the Component class. </div><div class="ttdef"><b>Definition:</b> <a href="_component_8hpp_source.html#l00142">Component.hpp:142</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_cell_html_ace47d79114cbba0fd4d84088df49a1ea"><div class="ttname"><a href="classmodulo_1_1core_1_1_cell.html#ace47d79114cbba0fd4d84088df49a1ea">modulo::core::Cell::is_active</a></div><div class="ttdeci">bool is_active() const</div><div class="ttdoc">Getter of the active boolean attribute. </div><div class="ttdef"><b>Definition:</b> <a href="_cell_8hpp_source.html#l00574">Cell.hpp:574</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_component_html_a7e5be076c4af8fb2d9948b8b07e99f60"><div class="ttname"><a href="classmodulo_1_1core_1_1_component.html#a7e5be076c4af8fb2d9948b8b07e99f60">modulo::core::Component::read_event_value</a></div><div class="ttdeci">bool read_event_value(const std::string &amp;event_name)</div><div class="ttdoc">Read the value of the event given as parameter. </div><div class="ttdef"><b>Definition:</b> <a href="_component_8cpp_source.html#l00090">Component.cpp:90</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_component_html_a6cb42f302126b2d7ec3025fe89c6abee"><div class="ttname"><a href="classmodulo_1_1core_1_1_component.html#a6cb42f302126b2d7ec3025fe89c6abee">modulo::core::Component::get_predicate_value</a></div><div class="ttdeci">bool get_predicate_value(const std::string &amp;predicate_name) const</div><div class="ttdoc">Get the value of the predicate given as parameter. </div><div class="ttdef"><b>Definition:</b> <a href="_component_8cpp_source.html#l00062">Component.cpp:62</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_component_html_a3c7870fffa927828cabe1bd4275e3c13"><div class="ttname"><a href="classmodulo_1_1core_1_1_component.html#a3c7870fffa927828cabe1bd4275e3c13">modulo::core::Component::set_predicate_value</a></div><div class="ttdeci">void set_predicate_value(const std::string &amp;predicate_name, bool value)</div><div class="ttdoc">Set the value of the predicate given as parameter. </div><div class="ttdef"><b>Definition:</b> <a href="_component_8cpp_source.html#l00070">Component.cpp:70</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1exceptions_1_1_predicate_not_found_exception_html"><div class="ttname"><a href="classmodulo_1_1core_1_1exceptions_1_1_predicate_not_found_exception.html">modulo::core::exceptions::PredicateNotFoundException</a></div><div class="ttdef"><b>Definition:</b> <a href="_predicate_not_found_exception_8hpp_source.html#l00007">PredicateNotFoundException.hpp:7</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_component_html_abcf5a401a5324fb5faf84c7326bf8515"><div class="ttname"><a href="classmodulo_1_1core_1_1_component.html#abcf5a401a5324fb5faf84c7326bf8515">modulo::core::Component::get_predicates</a></div><div class="ttdeci">const std::list&lt; std::shared_ptr&lt; state_representation::Predicate &gt; &gt; get_predicates() const</div><div class="ttdoc">Get the list of predicates of the action. </div><div class="ttdef"><b>Definition:</b> <a href="_component_8cpp_source.html#l00102">Component.cpp:102</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_cell_html_a7722a0658045f35bcf4a5d66e027fc5c"><div class="ttname"><a href="classmodulo_1_1core_1_1_cell.html#a7722a0658045f35bcf4a5d66e027fc5c">modulo::core::Cell::add_daemon</a></div><div class="ttdeci">void add_daemon(const std::function&lt; void(void)&gt; &amp;callback_function, const std::chrono::nanoseconds &amp;period)</div><div class="ttdoc">Function to daemonize the callback function given in input. </div><div class="ttdef"><b>Definition:</b> <a href="_cell_8cpp_source.html#l00567">Cell.cpp:567</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_component_html_abaaa1b86e5ababe71bd4f0d8c80a87a5"><div class="ttname"><a href="classmodulo_1_1core_1_1_component.html#abaaa1b86e5ababe71bd4f0d8c80a87a5">modulo::core::Component::add_received_predicate</a></div><div class="ttdeci">void add_received_predicate(const std::string &amp;predicate_name, const std::string &amp;channel)</div><div class="ttdoc">Add an external predicate to the map of predicates which value will be registered through the subscri...</div><div class="ttdef"><b>Definition:</b> <a href="_component_8cpp_source.html#l00055">Component.cpp:55</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_cell_html_a3474ece0416029d4f404af1b2910c1d6"><div class="ttname"><a href="classmodulo_1_1core_1_1_cell.html#a3474ece0416029d4f404af1b2910c1d6">modulo::core::Cell::is_configured</a></div><div class="ttdeci">bool is_configured() const</div><div class="ttdoc">Getter of the configured boolean attribute. </div><div class="ttdef"><b>Definition:</b> <a href="_cell_8hpp_source.html#l00570">Cell.hpp:570</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_cell_html"><div class="ttname"><a href="classmodulo_1_1core_1_1_cell.html">modulo::core::Cell</a></div><div class="ttdoc">Abstract class to define a Cell A Cell is the base class of the whole architecture. It handles all the basic ROS communications such as definitions of subscriptions, publishers and service calls. It can then be derived into a MotionGenerator, a Controller, a Sensor, or a RobotInterface. It is derived from a lifecycle node which allows to use ROS2 state machine functionalities for nodes. </div><div class="ttdef"><b>Definition:</b> <a href="_cell_8hpp_source.html#l00039">Cell.hpp:39</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_component_html_a52895d590928bb716514c2705c5522e2"><div class="ttname"><a href="classmodulo_1_1core_1_1_component.html#a52895d590928bb716514c2705c5522e2">modulo::core::Component::add_event</a></div><div class="ttdeci">void add_event(const std::shared_ptr&lt; state_representation::Event &gt; &amp;event)</div><div class="ttdoc">Add an event to the map of predicates. </div><div class="ttdef"><b>Definition:</b> <a href="_component_8cpp_source.html#l00078">Component.cpp:78</a></div></div>
<div class="ttc" id="classmodulo_1_1core_1_1_component_html_ae4abc442a98dc908617829745ebbc7e8"><div class="ttname"><a href="classmodulo_1_1core_1_1_component.html#ae4abc442a98dc908617829745ebbc7e8">modulo::core::Component::add_received_event</a></div><div class="ttdeci">void add_received_event(const std::string &amp;event_name, const std::string &amp;channel)</div><div class="ttdoc">Add an external event to the map of predicates which value will be registered through the subscribed ...</div><div class="ttdef"><b>Definition:</b> <a href="_component_8cpp_source.html#l00086">Component.cpp:86</a></div></div>
<div class="ttc" id="namespacemodulo_1_1core_html"><div class="ttname"><a href="namespacemodulo_1_1core.html">modulo::core</a></div><div class="ttdef"><b>Definition:</b> <a href="_cell_8hpp_source.html#l00027">Cell.hpp:27</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
